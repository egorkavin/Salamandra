"use strict";const allSidebars=document.querySelectorAll(".sidebar");if(allSidebars.length){const t=t=>t.closest(".sidebars__left")||t.closest(".sidebars__right"),e=t=>(t.classList.contains("sidebars__left")?"sidebars__left":"sidebars__right")+"--hidden";allSidebars.forEach(c=>{const s=c.querySelector(".sidebar__btn");s.addEventListener("click",()=>{const o=t(s),n=e(o),r=o.querySelectorAll(".sidebar"),i=o.querySelector(".sidebar--upper"),l=c;l.classList.add("sidebar--upper"),document.body.classList.add("sidebar-open"),o.classList.contains(n)?(o.classList.remove(n),r.forEach(t=>{t!==l&&t.classList.add("sidebar--lower")})):i&&i!==l?(i.classList.add("sidebar--lower"),i.classList.remove("sidebar--upper"),l.classList.remove("sidebar--lower")):(document.body.classList.remove("sidebar-open"),o.classList.add(n))}),c.addEventListener("transitionend",()=>{const o=t(s),n=e(o);o.classList.contains(n)&&c.classList.remove("sidebar--upper","sidebar--lower")})});const c=document.querySelectorAll(".filter");if(c.length){function addExceptButtonToItems(t){const e=t.querySelectorAll(".filter__item");e.forEach(c=>{const s=function(){const t=document.createElement("span");return t.classList.add("filter__icon--except"),t.textContent="—",t}();s.addEventListener("click",()=>{e.forEach(t=>{t===c||(t=>t.classList.contains("filter__item--disabled"))(t)||(t.querySelector(".filter__checkbox").checked=!0)});t.querySelector(".filter__items-count").textContent=`(${getCheckedItems(t).length}/${e.length})`,addMultipleItemsIcon(t),addCancelIcon(t,e.length),toggleExceptIcons(t)}),c.insertAdjacentElement("beforeend",s)})}function addMultipleItemsIcon(t){t.querySelector(".filter__name").insertAdjacentHTML("afterbegin",'<span class="svg-icon icon-square-box"><span>')}function addCancelIcon(t,e){const c=t.querySelector(".filter__name"),s=c.querySelector(".filter__items-count");c.insertAdjacentHTML("beforeend",'<span class="svg-icon icon-cancel-filter"><span>');c.parentNode.querySelector(".svg-icon.icon-cancel-filter").addEventListener("click",()=>{getCheckedItems(t).forEach(t=>{t.checked=!1}),s.innerHTML=`(${e})`;c.querySelectorAll(".svg-icon").forEach(t=>t.remove()),toggleExceptIcons(t)})}function getCheckedItems(t){return t.querySelectorAll('input[type="checkbox"]:checked')}function toggleExceptIcons(t){const e=t.querySelectorAll(".filter__checkbox"),c=[].some.call(e,t=>t.checked);t.querySelectorAll(".filter__icon--except").forEach(t=>{t.style.display=c?"none":""})}function addItemsCount(t,e){t.querySelector(".filter__name span").insertAdjacentHTML("beforeend",`\n\t\t\t\t<span class="filter__items-count">(${e})</span>\n\t\t\t\t<span class="filter__icon filter__icon--arrow"></span>\n\t\t\t\t`)}function handleCheckboxClick(t){const e=t.querySelectorAll(".filter__item");e.forEach(c=>{const s=c.querySelector(".filter__checkbox");!function(t){const e=t.querySelector(".filter__item-quantity");if(e)return"(+0)"===e.textContent;return!1}(c)?s.addEventListener("change",()=>{toggleExceptIcons(t);const c=t.querySelector(".filter__name"),s=c.querySelector(".filter__items-count"),o=getCheckedItems(t).length;if(0===o){s.innerHTML=`(${e.length})`;c.querySelectorAll(".svg-icon").forEach(t=>t.remove())}else s.innerHTML=`(${o}/${e.length})`,c.querySelector(".icon-square-box")||(addMultipleItemsIcon(t),addCancelIcon(t,e.length))}):(c.classList.add("filter__item--disabled"),s.disabled=!0)})}function toggleItemsListByFilterName(t,e){e.addEventListener("click",c=>{if(!c.target.classList.contains("icon-cancel-filter")){e.classList.toggle("filter__name--active");const c=t.parentNode;if(c.style.maxHeight)c.removeAttribute("style");else{const e=t.clientHeight;c.style.maxHeight=e+"px"}}})}c.forEach(t=>{const e=t.querySelector(".filter__name span");if(e){const c=t.querySelector(".filter__items-list");addExceptButtonToItems(t),addItemsCount(t,c.childElementCount),handleCheckboxClick(t),toggleItemsListByFilterName(c,e.parentNode)}})}}const productTabsWrapper=document.querySelector(".product-tabs__items");if(productTabsWrapper){const t=document.querySelectorAll(".swiper-slide");if(t){productTabsWrapper.insertAdjacentHTML("beforeend",'<li data-tab="photos" class="product-tabs__item">Изображения</li>');const e=document.querySelector(".product-photos-tab");t.forEach(t=>{const c=t.getAttribute("src");e.insertAdjacentHTML("beforeend",`<div class="product-description__image-wrapper">\n\t\t\t\t\t<img src="${c}" class="product-description__image"></img>\n\t\t\t\t</div>`)})}productTabsWrapper.querySelectorAll(".product-tabs__item").forEach(t=>{t.addEventListener("click",()=>{const e=document.querySelector(".product-tabs__item--active"),c=document.querySelector("#"+e.dataset.tab);e.classList.remove("product-tabs__item--active"),c.classList.remove("product-tabs__block--active");const s=document.querySelector("#"+t.dataset.tab);t.classList.add("product-tabs__item--active"),s.classList.add("product-tabs__block--active")})})}const stars=document.querySelectorAll(".product-rating__star");stars.length&&stars.forEach(t=>{const e=t.parentNode;if("0"!==e.dataset.totalValue){e.querySelector(".product-rating__value").textContent=e.dataset.totalValue,t.classList.add("product-rating__star--disabled")}else t.addEventListener("click",()=>{const{value:c}=t.dataset;e.dataset.totalValue=c;document.querySelector(".product-rating__note").classList.add("product-rating__note--hidden")})});const yearRates=document.querySelectorAll(".year-rate");if(yearRates.length){document.querySelectorAll(".year-rate__value").forEach(t=>{const e=parseInt(t.textContent),c=2*Math.PI*13,s=`\n\t\t<svg class="percent-circle" width="30" height="30">\n\t\t\t<circle\n\t\t\t\ttransform="rotate(270, 15, 15)"\n\t\t\t\tstroke="#fff" fill="transparent"\n\t\t\t\tstroke-width="2" cx="15" cy="15" r="13"\n\t\t\t\tstroke-linecap="round"\n\t\t\t\tstroke-dasharray="${c} ${c}" \n\t\t\t\tstroke-dashoffset="${c-e/100*c}"/>\n\t\t</svg>\n\t\t`;t.innerHTML=100===e?"★":""+e,t.innerHTML+=s})}const commentVotes=document.querySelectorAll(".comment-vote");if(commentVotes.length){function checkRating(t){const e=t.closest(".product-comment");t.textContent>=10?e.classList.add("product-comment--good"):t.textContent<=-5?e.classList.add("product-comment--bad"):(e.classList.remove("product-comment--good"),e.classList.remove("product-comment--bad"))}commentVotes.forEach(t=>{const e=t.querySelector(".comment-vote__btn--up"),c=t.querySelector(".comment-vote__btn--down"),s=t.querySelector(".comment-vote__rating");e.addEventListener("click",()=>{s.textContent++,checkRating(s)}),c.addEventListener("click",()=>{s.textContent--,checkRating(s)}),checkRating(s)})}const pricesAtShops=document.querySelectorAll(".product-price__price");pricesAtShops.length&&pricesAtShops.forEach(t=>{t.textContent.trim().localeCompare("нет в наличии")||(t.style.border="none")});const pcParts=document.querySelector(".pc-parts");if(pcParts){const t=pcParts.querySelectorAll(".pc-part__price"),e=document.querySelector(".assemblage-items__total"),c=(t,e)=>t+ +e.textContent.replace(/\s/g,"").replace(/,/g,"."),s=[].reduce.call(t,c,0);e.textContent=Math.round(s).toLocaleString("ru-RU")+" ₽"}const assemblageParts=document.querySelectorAll(".assemblage-parts__part");assemblageParts.length&&assemblageParts.forEach(t=>{const e=t.querySelector(".product__title .product__link"),c=t=>t.querySelector(".product__title .product__link");e.addEventListener("click",()=>{t.classList.toggle("product--collapsed");const e=document.querySelectorAll("svg[data-conflict-id]"),s=document.querySelector("svg.fixed"),o=null===s?void 0:s.dataset.conflictId;e.forEach(t=>{const{conflictId:e}=t.dataset,s=document.querySelectorAll(`.assemblage-parts__part[data-conflict-id~="${e}"]`);t.remove(),setConflictsLines2(e,...[].map.call(s,c)),document.querySelector(`svg[data-conflict-id~="${e}"]`)}),o&&document.querySelector(`svg[data-conflict-id~="${s.dataset.conflictId}"]`).classList.add("fixed")})});const disableFixedCircles=t=>t.classList.remove("conflict-circle--fixed"),fixCircles=t=>t.classList.add("conflict-circle--fixed"),disableCirclesAsPrevious=t=>{t.classList.contains("conflict-circle--hover")||t.classList.add("conflict-circle--fixed--prev")},disablePrevCircles=t=>t.classList.remove("conflict-circle--fixed--prev"),unhoverCircles=t=>t.classList.remove("conflict-circle--hover"),hoverCircles=t=>t.classList.add("conflict-circle--hover"),toggleCircles=t=>t.classList.toggle("conflict-circle--fixed");function mapCirclesById(t,e){document.querySelectorAll(`.pc-part[data-conflict-id~="${t}"] .conflict-circle`).forEach(e)}function switchConflictsBlockItem(t,e){const c=t.querySelector(".conflicts__item--chosen")||e;(t=>t.classList.contains("conflicts__item--question"))(e)||(c===e?(c.classList.remove("conflicts__item--hover"),c.classList.toggle("conflicts__item--chosen")):(c.classList.remove("conflicts__item--chosen"),e.classList.add("conflicts__item--chosen")))}function hoverConflictsBlockItem(t,e){const c=e,s=t.querySelector(".conflicts__item--chosen");s!==c&&(s&&s.classList.add("conflicts__item--prev"),c.classList.add("conflicts__item--hover"))}function unhoverConflictsBlockItem(t,e){const c=e,s=t.querySelector(".conflicts__item--prev");s!==c&&(s&&s.classList.remove("conflicts__item--prev"),c.classList.remove("conflicts__item--hover"))}function getConflictsBlockItemById(t){return document.querySelector(".conflicts").querySelector(`.conflicts__item[data-conflict-id="${t}"]`)}const conflictsBlock=document.querySelector(".conflicts");if(conflictsBlock){conflictsBlock.querySelectorAll(".conflicts__item:not(.conflicts__item--question)").forEach(t=>{t.addEventListener("click",()=>{switchConflictsBlockItem(conflictsBlock,t);const{conflictId:e}=t.dataset;mapCirclesById(e,unhoverCircles),switchConflict(e)}),t.addEventListener("mouseover",()=>{t.classList.add("conflicts__item--hover");const{conflictId:e}=t.dataset;mapCirclesById(e,hoverCircles),hoverConflict(e),hoverConflictsBlockItem(conflictsBlock,t)}),t.addEventListener("mouseout",()=>{t.classList.remove("conflicts__item--hover");const{conflictId:e}=t.dataset;mapCirclesById(e,unhoverCircles),unhoverConflict(e),unhoverConflictsBlockItem(conflictsBlock,t)})})}const viewTypes=document.querySelectorAll(".view-types__type");if(viewTypes.length){function setProductsViewType(t){const e=document.querySelectorAll(".product"),c=document.querySelector(".container");t.classList.contains("lines")?e.forEach(t=>{t.classList.add("product--long"),t.classList.remove("product--flex"),c.classList.remove("container--full-width")}):t.classList.contains("flex-lines")?e.forEach(t=>{t.classList.add("product--flex"),t.classList.remove("product--long"),c.classList.remove("container--full-width")}):t.classList.contains("blocks")&&e.forEach(t=>{t.classList.add("product--flex"),t.classList.remove("product--long"),c.classList.add("container--full-width")})}setProductsViewType(document.querySelector(".view-types__type--active")),viewTypes.forEach(t=>{t.addEventListener("click",()=>{const e=document.querySelector(".view-types__type--active");t!==e&&(e&&e.classList.remove("view-types__type--active"),t.classList.add("view-types__type--active"),setProductsViewType(t))})})}function updateConflictsLines(){if(assemblageParts){let t=document.querySelectorAll('.assemblage-parts__part[data-conflict-id~="1"]');const e=t=>t.querySelector(".product__title");for(let c=1;t.length>0;)1!==t.length&&setConflictsLines2(c,...[].map.call(t,e)),t=document.querySelectorAll(`.assemblage-parts__part[data-conflict-id~="${++c}"]`)}}updateConflictsLines();const pcPartConflicts=document.querySelectorAll(".pc-part[data-conflict-id]");if(pcPartConflicts){let t=document.querySelectorAll('.pc-part[data-conflict-id~="1"]');const e=t=>t.querySelector(".pc-part__title");for(let c=1;t.length>0;)1!==t.length&&setConflictsLines(c,[].map.call(t,e)),t=document.querySelectorAll(`.pc-part[data-conflict-id~="${++c}"]`);pcPartConflicts.forEach(t=>{const e=t.querySelector(".pc-part__title"),c=document.createElement("span");c.classList.add("pc-part__conflict-circle","conflict-circle"),c.addEventListener("mouseover",()=>{c.closest(".pc-part").querySelector(".pc-part__price").style.color="#bfbfbf",c.classList.add("conflict-circle--hover");c.closest("[data-conflict-id]").dataset.conflictId.split(" ").forEach(t=>hoverConflictsBlockItem(conflictsBlock,getConflictsBlockItemById(t)))}),c.addEventListener("mouseout",()=>{c.closest(".pc-part").querySelector(".pc-part__price").removeAttribute("style"),c.classList.remove("conflict-circle--hover");c.closest("[data-conflict-id]").dataset.conflictId.split(" ").forEach(t=>unhoverConflictsBlockItem(conflictsBlock,getConflictsBlockItemById(t)))}),e.insertAdjacentElement("afterbegin",c)})}function getCurrentConflictId(){const t=document.querySelector("svg.fixed"),e=null===t?void 0:t.dataset.conflictId;if(e)return e;const c=document.querySelector(".conflict-circle--fixed");if(c){let t=c.closest("[data-conflict-id]").dataset.conflictId;return 1!==t.split(" ").length&&(t=document.querySelector("svg[data-conflict-id].fixed").dataset.conflictId),t}return null}function switchConflict(t){const e=t,c=getCurrentConflictId(),s=document.querySelector(`svg[data-conflict-id="${t}"]`),o=document.querySelector("svg[data-conflict-id].fixed");e!==c?(o&&o.classList.remove("fixed","fixed--prev","hover"),s&&s.classList.add("fixed"),mapCirclesById(c,unhoverCircles),mapCirclesById(c,disableFixedCircles),mapCirclesById(c,disablePrevCircles),mapCirclesById(t,fixCircles)):(s&&(s.classList.remove("hover"),s.classList.toggle("fixed")),mapCirclesById(t,toggleCircles))}function hoverConflict(t){const e=t,c=getCurrentConflictId(),s=document.querySelector(`svg[data-conflict-id="${t}"]`);s&&s.classList.add("hover");const o=document.querySelector("svg[data-conflict-id].fixed");c&&c!==e&&(o&&o.classList.add("fixed--prev"),mapCirclesById(c,disableCirclesAsPrevious))}function unhoverConflict(t){const e=t,c=getCurrentConflictId(),s=document.querySelector(`svg[data-conflict-id="${t}"]`);s&&s.classList.remove("hover");const o=document.querySelector("svg[data-conflict-id].fixed--prev");c!==e&&(o&&o.classList.remove("fixed--prev"),mapCirclesById(c,disablePrevCircles))}function setConflictsLines(t,e){const c=parseInt(e[0].offsetParent.offsetTop),s=parseInt(e[e.length-1].offsetParent.offsetTop)-c,o=`\n\t\t<svg data-conflict-id="${t}"\n\t\t\tstyle="position: absolute;top:${c+8-6}px;left:50px;" \n\t\t\twidth="8" height="${s+12}" viewBox="0 0 8 ${s+12}"\n\t\t\txmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t\t>\n\t\t\t<polyline \n\t\t\t\tpoints="\n\t\t\t\t\t1.5,6\n\t\t\t\t\t1.5,${s+6}\n\t\t\t\t"\n\t\t\t\tfill="transparent" stroke="#e0a006" stroke-dasharray="4px"\n\t\t\t/>\n\t\t\t${e.map(t=>parseInt(t.offsetParent.offsetTop)).map(t=>`\n\t\t<polyline \n\t\t\tpoints="\n\t\t\t\t1,${t-c+5.5}\n\t\t\t\t6,${t-c+5.5}\n\t\t\t"\n\t\t\tstroke="#e0a006"\n\t\t/>\n\t\t<polyline \n\t\t\tpoints="\n\t\t\t\t7.5,${t-c}\n\t\t\t\t7.5,${t-c+11}\n\t\t\t"\n\t\t\tstroke="#e0a006"\n\t\t/>\n\t`).join("")}\n\t\t</svg>\n\t`;document.querySelector(".sidebar__pc-parts").insertAdjacentHTML("beforeend",o)}function setConflictsLines2(t,...e){const c=parseInt(document.querySelector(".assemblage-parts").getBoundingClientRect().top),s=parseInt(e[0].getBoundingClientRect().top)-c,o=parseInt(e[e.length-1].getBoundingClientRect().top)-c-s,n=`\n\t\t<svg data-conflict-id="${t}"\n\t\t\tstyle="position: absolute;top:${s+10}px;left:0px;" \n\t\t\twidth="8" height="${o+12}" viewBox="0 0 8 ${o+12}"\n\t\t\txmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n\t\t>\n\t\t\t<polyline \n\t\t\t\tpoints="\n\t\t\t\t\t1.5,6\n\t\t\t\t\t1.5,${o+6}\n\t\t\t\t"\n\t\t\t\tfill="transparent" stroke="#e0a006" stroke-dasharray="4px"\n\t\t\t/>\n\t\t\t${e.map(t=>`\n\t\t<polyline \n\t\t\tpoints="\n\t\t\t\t1,${t.getBoundingClientRect().top-c-s+5.5}\n\t\t\t\t6,${t.getBoundingClientRect().top-c-s+5.5}\n\t\t\t"\n\t\t\tstroke="#e0a006"\n\t\t/>\n\t\t<polyline \n\t\t\tpoints="\n\t\t\t\t7.5,${t.getBoundingClientRect().top-c-s}\n\t\t\t\t7.5,${t.getBoundingClientRect().top-c-s+11}\n\t\t\t"\n\t\t\tstroke="#e0a006"\n\t\t/>\n\t`).join("")}\n\t\t</svg>\n\t`;document.querySelector(".assemblage-parts").insertAdjacentHTML("beforeend",n)}const dataIcons=document.querySelectorAll("[data-icon]");dataIcons.length&&dataIcons.forEach(t=>{const{icon:e}=t.dataset;if(t.classList.contains("pc-parts__choose-item"))t.insertAdjacentHTML("afterbegin",`<span class="svg-icon icon-${e}"></span>`);else{(t.querySelector(".pc-part__title")||t).insertAdjacentHTML("afterbegin",`<span class="svg-icon icon-${e}"></span>`)}});const pcPartsDescriptions=document.querySelectorAll(".pc-part__description");pcPartsDescriptions&&pcPartsDescriptions.forEach(t=>{const e=t.querySelector(".pc-part__title"),c=e.querySelector("p"),s=t.querySelector(".pc-part__details");c.getBoundingClientRect().width>=215&&e.classList.add("pc-part__title--gradient"),s.getBoundingClientRect().width>=215&&s.classList.add("pc-part__details--gradient")});const productRating=document.querySelectorAll(".product-score-rating");productRating.length&&productRating.forEach(t=>{const e=parseInt(t.textContent),c=2*Math.PI*13,s=`\n\t\t<svg class="rate-ring" width="30" height="30">\n\t\t<circle \n\t\t\ttransform="rotate(270, 15, 15)"\n\t\t\tstroke="#fff" fill="transparent" stroke-width="2" cx="15" cy="15" r="13"\n\t\t\tstroke-dasharray="\n\t\t\t${Array(e).fill(11).join(" 5 ")} \n\t\t\t${c-16*e+5}\n\t\t\t"\n\t\t></circle>\n    \t</svg>\n\t\t`;t.insertAdjacentHTML("beforeend",s)});const sectionSlider=document.querySelector(".section__slider");if(sectionSlider){sectionSlider.querySelectorAll(".product--short").forEach(t=>{const e=t.querySelector(".product__title");if(e.getBoundingClientRect().height>40){e.classList.add("product__title--overflow");const t=e.querySelector(".product__name");!function(t,e,c){for(;e.offsetHeight>t;)c.textContent=c.textContent.substr(0,c.textContent.length-1)}(40,e,t)}})}const searchBars=document.querySelectorAll(".search-bar");searchBars.length&&searchBars.forEach(t=>{t.addEventListener("click",()=>{t.classList.add("search-bar--active"),document.querySelector("body").addEventListener("click",e=>{t.contains(e.target)||t.classList.remove("search-bar--active")})})});const menuBtn=document.querySelector(".header .icon-menu");if(menuBtn){const t=document.querySelector(".header__sign");menuBtn.addEventListener("click",()=>{menuBtn.classList.toggle("icon-menu--opened"),t.classList.toggle("header__sign--opened")}),document.addEventListener("click",e=>{t.contains(e.target)||menuBtn.contains(e.target)||t.classList.remove("header__sign--opened")})}const productPhotos=document.querySelector(".product__photos");if(productPhotos){const t=productPhotos.querySelectorAll(".swiper-slide"),e=t.length,c=e=>{const c=t[e].cloneNode();return c.removeAttribute("role"),c.removeAttribute("style"),c.removeAttribute("aria-label"),c.removeAttribute("class"),c};t.forEach((t,e)=>{t.addEventListener("click",()=>{if(t.dataset.modalSlide){const s=c(e);s.classList="product__image",s.dataset.modalSlide=t.dataset.modalSlide,t.removeAttribute("data-modal-slide");const o=productPhotos.querySelector(".product__image").dataset.modalSlide;productPhotos.querySelector(`.swiper-slide:nth-child(${o})`).dataset.modalSlide=o;const n=productPhotos.firstElementChild,r=n.firstElementChild;n.replaceChild(s,r)}})});const s=document.querySelector(".product-modal"),o=s.querySelector(".product-modal__close"),n=s.querySelector(".product-modal__img"),r=()=>{s.classList.add("product-modal--visible")},i=()=>{s.classList.remove("product-modal--visible")},l=[s,n,o];s.addEventListener("click",t=>{l.some(e=>e===t.target)&&i()});const a=s.querySelector(".product-modal__prev"),d=s.querySelector(".product-modal__next");a.addEventListener("click",()=>p(-1)),d.addEventListener("click",()=>p(1));let u=1;const p=t=>{showSlides(u+=t)},m=t=>{showSlides(u=t)},f=productPhotos.firstElementChild;function showSlides(t){const s=document.querySelector(".product-modal__img");t>e-1?u=0:t<0&&(u=e-1),s.innerHTML="";const o=c(u);s.appendChild(o)}f.addEventListener("click",()=>{r(),m(f.firstElementChild.dataset.modalSlide-1)})}const productComments=document.querySelector(".product-comments");if(productComments){const t=productComments.querySelector(".comment-form__reply-to");t.querySelector(".icon-cancel-filter").addEventListener("click",()=>{t.style.display="none";productComments.querySelector(".product-comment__respond-btn--pressed ").classList.remove("product-comment__respond-btn--pressed")});const e=t.querySelector(".comment-form__reply-username");productComments.querySelectorAll(".product-comment").forEach(c=>{const s=c.querySelector(".product-comment__author").textContent.trim(),o=c.querySelector(".product-comment__respond-btn");o.addEventListener("click",()=>{const c=productComments.querySelector(".product-comment__respond-btn--pressed ");c&&c.classList.remove("product-comment__respond-btn--pressed"),c!==o?(o.classList.add("product-comment__respond-btn--pressed"),t.removeAttribute("style"),e.textContent=s):t.style.display="none"})})}const mobileSidebarButtons=document.querySelector(".section__mobile-buttons");if(mobileSidebarButtons){mobileSidebarButtons.querySelectorAll(".section__button").forEach(t=>{t.addEventListener("click",()=>{const e=document.querySelector(".sidebars__right");e.classList.remove("sidebars__right--hidden");e.querySelectorAll(".sidebar").forEach(t=>{t.classList.remove("sidebar--upper"),t.classList.add("sidebar--lower")});const c=e.querySelector("."+t.dataset.sidebar);c.classList.remove("sidebar--lower"),c.classList.add("sidebar--upper"),document.body.classList.add("sidebar-open")})})}const cancelButtons=document.querySelectorAll(".sidebar__close-btn");function isMobileButtonsVisible(){if(!mobileSidebarButtons)return!1;const{bottom:t}=mobileSidebarButtons.getBoundingClientRect();return t>0}function getSidebarsAndWrapper(t){const e=document.querySelector(t),c=e.querySelectorAll(".sidebar");return[e,c]}function displayRightSidebars(){const[t,e]=getSidebarsAndWrapper(".sidebars__right"),[c,s]=getSidebarsAndWrapper(".sidebars__left");if(window.innerWidth<=549&&s.length){const e=!t.classList.contains("sidebars__right--hidden");s.forEach(c=>{c.classList.remove("sidebar--upper","sidebar--lower"),e&&c.classList.add("sidebar--lower"),t.appendChild(c)})}else window.innerWidth>549&&!s.length&&(t.classList.add("sidebars__right--hidden"),e.forEach(t=>{t.classList.remove("sidebar--upper"),t.classList.remove("sidebar--lower"),t.classList.contains("sidebar--assemblage")||c.appendChild(t)}));if(window.innerWidth>768){const t=document.querySelector(".product-tabs__item--active");if("photos"===t.dataset.tab){const e=document.querySelector("#"+t.dataset.tab);t.classList.remove("product-tabs__item--active"),e.classList.remove("product-tabs__block--active");const c=document.querySelector('[data-tab="shops"]'),s=document.querySelector("#shops");c.classList.add("product-tabs__item--active"),s.classList.add("product-tabs__block--active")}}const o=t.querySelectorAll(".sidebar__btn");+window.innerWidth<=549&&o&&isMobileButtonsVisible()?o.forEach(t=>{t.style.display="none"}):o.forEach(t=>{t.style=""})}function onResize(){displayRightSidebars();const t=document.querySelector(".section__slider");if(t&&+window.innerWidth<=373){t.querySelectorAll(".product--short").forEach(t=>{const e=t.querySelector(".product__title");if(e.getBoundingClientRect().height>40){e.classList.add("product__title--overflow");const t=e.querySelector(".product__name");!function(t,e,c){for(;e.offsetHeight>t;)c.textContent=c.textContent.substr(0,c.textContent.length-1)}(40,e,t)}})}const e=document.querySelectorAll(".assemblage__conflicts .conflicts__item");if(e){document.querySelectorAll("svg[data-conflict-id]").forEach(t=>t.remove()),e.forEach(t=>{t.classList.remove("conflicts__item--chosen"),t.classList.remove("conflicts__item--hover"),t.classList.remove("conflicts__item--prev")})}updateConflictsLines()}cancelButtons.forEach(t=>{t.addEventListener("click",()=>{const t=document.querySelector(".sidebars__right");t.classList.contains("sidebars__right--hidden")||t.classList.add("sidebars__right--hidden"),document.body.classList.remove("sidebar-open")})}),displayRightSidebars(),window.addEventListener("scroll",displayRightSidebars),window.addEventListener("resize",onResize);