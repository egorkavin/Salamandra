const sidebarOpenButtons=document.querySelectorAll(".sidebar__btn");if(sidebarOpenButtons){sidebarOpenButtons.forEach(e=>{e.addEventListener("click",t=>{const a=e.classList,r=".sidebar_"+a.item(a.length-1).split("_").pop();document.querySelector(r).classList.toggle(r.substr(1)+"_hidden")})}),document.querySelectorAll(".filter").forEach(e=>{const t=e.querySelector(".filter__name");if(t){const a=e.querySelector(".filter__items-list"),r=t.querySelector(".filter__items-count");r.innerHTML="("+a.childElementCount+")",toggleItemsListByFilterName(a,t),setItemsCountInList(r,a)}}),document.querySelectorAll(".filter__item-quantity").forEach(e=>{if("(+0)"===e.textContent){const t=e.closest(".filter__item");t.classList.add("filter__item_disabled"),t.addEventListener("click",e=>e.preventDefault())}})}function toggleItemsListByFilterName(e,t){t.addEventListener("click",a=>{a.preventDefault(),t.classList.toggle("filter__name_active");const r=e.clientHeight,c=e.parentNode;c.style.maxHeight?c.removeAttribute("style"):c.style.maxHeight=r+"px"})}function setItemsCountInList(e,t){t.addEventListener("change",a=>{let r=t.querySelectorAll('input[type="checkbox"]:checked').length;e.innerHTML=0===r?`(${t.childElementCount})`:`(${r}/${t.childElementCount})`})}const itemsFromAllPages=document.querySelectorAll(".product");let itemsPerPage=4,currentPage=1;const paginationSection=document.querySelector(".pages-navigation");function displayPage(e,t,a){const r=(e-1)*t,c=Array.prototype.slice.call(a);c.splice(r,t).forEach(e=>e.removeAttribute("style")),c.forEach(e=>e.style.display="none")}function createPagination(e,t,a){const r=Math.ceil(itemsFromAllPages.length/t),c=e.querySelector(".pages-navigation__list-of-pages");for(let e=0;e<r;e++){const r=createPageButton(e+1,t,a);c.appendChild(r)}}function createPageButton(e,t,a){const r=document.createElement("li"),c=document.createElement("button");return r.classList.add("pages-navigation__page-wrapper"),c.classList.add("pages-navigation__page-button"),c.textContent=e,e===currentPage&&r.classList.add("pages-navigation__page-wrapper_active"),c.addEventListener("click",()=>{currentPage=e,displayPage(e,t,a),document.querySelector(".pages-navigation__page-wrapper.pages-navigation__page-wrapper_active").classList.remove("pages-navigation__page-wrapper_active"),r.classList.add("pages-navigation__page-wrapper_active")}),r.appendChild(c),r}paginationSection&&(displayPage(1,itemsPerPage,itemsFromAllPages),createPagination(paginationSection,itemsPerPage,itemsFromAllPages));const tabs=document.querySelectorAll(".product-tabs__item");tabs&&tabs.forEach(e=>{e.addEventListener("click",t=>{const a=document.querySelector(".product-tabs__item_active"),r=document.querySelector("#"+a.dataset.tab),c=document.querySelector("#"+e.dataset.tab);a.classList.remove("product-tabs__item_active"),r.classList.remove("product-tabs__block_active"),e.classList.add("product-tabs__item_active"),c.classList.add("product-tabs__block_active")})});const slider=document.querySelector(".product-slider");if(slider){const e=slider.querySelector(".product-slider__track"),t=slider.querySelector(".product-slider__button_next"),a=slider.querySelector(".product-slider__button_prev"),r=slider.querySelectorAll(".product-slider__item-wrapper"),c=r.length,s=[].map.call(r,e=>e.clientWidth),l=calcVisibleItems(s);let n=l,i=0;t.addEventListener("click",r=>{a.style.opacity="100%",c-n>=3?i+=calcOffset(s,n,n+=3):(i+=calcOffset(s,n,n=c),t.style.opacity="0"),e.style.transform=`translateX(-${i}px)`}),a.addEventListener("click",r=>{t.style.opacity="100%";let c=calcPrevItems(s,i);c>=3?i-=calcOffset(s,n-=3,n+3):(i-=calcOffset(s,0,c),n=l,a.style.opacity="0"),e.style.transform=`translateX(-${i}px)`}),e.addEventListener("click",e=>{if("IMG"==e.target.tagName){document.querySelector(".product__image-wrapper").innerHTML=`\n\t\t\t<img src="${e.target.getAttribute("src")}" class="product__image"></img>\n\t\t\t`}})}function calcVisibleItems(e){let t=0;for(let a=0;a<e.length;a++){if(t>=475)return a-1;t+=e[a]}return e.length}function calcOffset(e,t,a){return[].slice.call(e,t,a).reduce((e,t)=>e+t,0)}function calcPrevItems(e,t){let a=0;for(let r=0;r<e.length;r++)if(a+=e[r],t-a<=0)return r+1}const stars=document.querySelectorAll(".product-rating__star");stars&&stars.forEach(e=>e.addEventListener("click",()=>{const{value:t}=e.dataset;e.parentNode.dataset.totalValue=t,document.querySelector(".product-rating__note").remove()}));const yearRates=document.querySelectorAll(".year-rate__value");yearRates&&yearRates.forEach(e=>{const t=e.querySelector(".percent-circle__circle"),a=t.r.baseVal.value,r=2*Math.PI*a;t.style.strokeDasharray=`${r} ${r}`,t.style.strokeDashoffset=r;const c=r-parseInt(e.textContent)/100*r;t.style.strokeDashoffset=c});