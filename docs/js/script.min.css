const sidebarOpenButtons=document.querySelectorAll(".sidebar__btn");if(sidebarOpenButtons){function toggleItemsListByFilterName(e,t){t.addEventListener("click",r=>{r.preventDefault(),t.classList.toggle("filter__name--active");const a=e.clientHeight,c=e.parentNode;c.style.maxHeight?c.removeAttribute("style"):c.style.maxHeight=a+"px"})}function setItemsCountInList(e,t){t.addEventListener("change",r=>{let a=t.querySelectorAll('input[type="checkbox"]:checked').length;e.innerHTML=0===a?`(${t.childElementCount})`:`(${a}/${t.childElementCount})`})}sidebarOpenButtons.forEach(e=>{e.addEventListener("click",t=>{const r=e.classList,a=".sidebar--"+r.item(r.length-1).split("--").pop();document.querySelector(a).classList.toggle(a.substr(1)+"--hidden")})}),document.querySelectorAll(".filter").forEach(e=>{const t=e.querySelector(".filter__name");if(t){const r=e.querySelector(".filter__items-list"),a=t.querySelector(".filter__items-count");a.innerHTML="("+r.childElementCount+")",toggleItemsListByFilterName(r,t),setItemsCountInList(a,r)}}),document.querySelectorAll(".filter__item-quantity").forEach(e=>{if("(+0)"===e.textContent){const t=e.closest(".filter__item");t.classList.add("filter__item_disabled"),t.addEventListener("click",e=>e.preventDefault())}})}const itemsFromAllPages=document.querySelectorAll(".product");let itemsPerPage=4,currentPage=1;const paginationSection=document.querySelector(".pages-navigation");if(paginationSection){function displayPage(e,t,r){const a=(e-1)*t,c=Array.prototype.slice.call(r);c.splice(a,t).forEach(e=>e.removeAttribute("style")),c.forEach(e=>e.style.display="none")}function createPagination(e,t,r){const a=Math.ceil(itemsFromAllPages.length/t),c=e.querySelector(".pages-navigation__list-of-pages");for(let e=0;e<a;e++){const a=createPageButton(e+1,t,r);c.appendChild(a)}}function createPageButton(e,t,r){const a=document.createElement("li"),c=document.createElement("button");return a.classList.add("pages-navigation__page-wrapper"),c.classList.add("pages-navigation__page-button"),c.textContent=e,e===currentPage&&a.classList.add("pages-navigation__page-wrapper_active"),c.addEventListener("click",()=>{currentPage=e,displayPage(e,t,r),document.querySelector(".pages-navigation__page-wrapper.pages-navigation__page-wrapper_active").classList.remove("pages-navigation__page-wrapper_active"),a.classList.add("pages-navigation__page-wrapper_active")}),a.appendChild(c),a}displayPage(1,itemsPerPage,itemsFromAllPages),createPagination(paginationSection,itemsPerPage,itemsFromAllPages)}const tabs=document.querySelectorAll(".product-tabs__item");tabs&&tabs.forEach(e=>{e.addEventListener("click",t=>{const r=document.querySelector(".product-tabs__item--active"),a=document.querySelector("#"+r.dataset.tab),c=document.querySelector("#"+e.dataset.tab);r.classList.remove("product-tabs__item--active"),a.classList.remove("product-tabs__block--active"),e.classList.add("product-tabs__item--active"),c.classList.add("product-tabs__block--active")})});const stars=document.querySelectorAll(".product-rating__star");stars&&stars.forEach(e=>e.addEventListener("click",()=>{const{value:t}=e.dataset;e.parentNode.dataset.totalValue=t,document.querySelector(".product-rating__note").remove()}));const yearRates=document.querySelectorAll(".year-rate__value");yearRates&&yearRates.forEach(e=>{const t=e.querySelector(".percent-circle__circle"),r=t.r.baseVal.value,a=2*Math.PI*r;t.style.strokeDasharray=`${a} ${a}`,t.style.strokeDashoffset=a;const c=a-parseInt(e.textContent)/100*a;t.style.strokeDashoffset=c});const slider=document.querySelector(".product-slider");if(slider){const e=slider.querySelector(".product-slider__track"),t=slider.querySelector(".product-slider__button_next"),r=slider.querySelector(".product-slider__button_prev"),a=slider.querySelectorAll(".product-slider__item-wrapper"),c=a.length,s=[].map.call(a,e=>e.clientWidth),n=calcVisibleItems(s);let o=n,l=0;t.addEventListener("click",a=>{r.style.opacity="100%",c-o>=3?l+=calcOffset(s,o,o+=3):(l+=calcOffset(s,o,o=c),t.style.opacity="0"),e.style.transform=`translateX(-${l}px)`}),r.addEventListener("click",a=>{t.style.opacity="100%";let c=calcPrevItems(s,l);c>=3?l-=calcOffset(s,o-=3,o+3):(l-=calcOffset(s,0,c),o=n,r.style.opacity="0"),e.style.transform=`translateX(-${l}px)`}),e.addEventListener("click",e=>{if("IMG"==e.target.tagName){document.querySelector(".product__image-wrapper").innerHTML=`\n\t\t\t<img src="${e.target.getAttribute("src")}" class="product__image"></img>\n\t\t\t`}})}function calcVisibleItems(e){let t=0;for(let r=0;r<e.length;r++){if(t>=475)return r-1;t+=e[r]}return e.length}function calcOffset(e,t,r){return[].slice.call(e,t,r).reduce((e,t)=>e+t,0)}function calcPrevItems(e,t){let r=0;for(let a=0;a<e.length;a++)if(r+=e[a],t-r<=0)return a+1}const voteRatings=document.querySelectorAll(".comment-vote__rating");voteRatings&&voteRatings.forEach(e=>{e.textContent>=10?e.closest(".product-comment").classList.add("product-comment--good"):e.textContent<=-5&&e.closest(".product-comment").classList.add("product-comment--bad")});const pricesAtShops=document.querySelectorAll(".product-price__price");pricesAtShops&&pricesAtShops.forEach(e=>{e.textContent.trim().localeCompare("нет в наличии")||(e.style.border="none")});const pcParts=document.querySelectorAll(".pc-part__title");if(pcParts){const e=pcParts[0].getBoundingClientRect(),t=pcParts[1].getBoundingClientRect();document.createElement("svg").innerHTML=`<line id="line1" x1=${e.left} y1=${e.top} x2=${t.left} y2=${t.top} stroke=red/>`}