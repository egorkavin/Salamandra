const sidebarOpenButtons=document.querySelectorAll(".sidebar__btn");if(sidebarOpenButtons){function toggleItemsListByFilterName(e,t){t.addEventListener("click",c=>{c.preventDefault(),t.classList.toggle("filter__name--active");const r=e.clientHeight,a=e.parentNode;a.style.maxHeight?a.removeAttribute("style"):a.style.maxHeight=r+"px"})}function setItemsCountInList(e,t){t.addEventListener("change",c=>{let r=t.querySelectorAll('input[type="checkbox"]:checked').length;e.innerHTML=0===r?`(${t.childElementCount})`:`(${r}/${t.childElementCount})`})}sidebarOpenButtons.forEach(e=>{e.addEventListener("click",t=>{const c=e.classList,r=".sidebar--"+c.item(c.length-1).split("--").pop();document.querySelector(r).classList.toggle(r.substr(1)+"--hidden")})}),document.querySelectorAll(".filter").forEach(e=>{const t=e.querySelector(".filter__name");if(t){const c=e.querySelector(".filter__items-list"),r=t.querySelector(".filter__items-count");r.innerHTML="("+c.childElementCount+")",toggleItemsListByFilterName(c,t),setItemsCountInList(r,c)}}),document.querySelectorAll(".filter__item-quantity").forEach(e=>{if("(+0)"===e.textContent){const t=e.closest(".filter__item");t.classList.add("filter__item_disabled"),t.addEventListener("click",e=>e.preventDefault())}})}const paginationSection=document.querySelector(".pages-navigation");if(paginationSection){const e=document.querySelectorAll(".product");let t=4,c=1;function displayPage(e,t,c){const r=(e-1)*t,a=Array.prototype.slice.call(c);a.splice(r,t).forEach(e=>e.removeAttribute("style")),a.forEach(e=>e.style.display="none")}function createPagination(t,c,r){const a=Math.ceil(e.length/c),n=t.querySelector(".pages-navigation__list-of-pages");for(let e=0;e<a;e++){const t=createPageButton(e+1,c,r);n.appendChild(t)}}function createPageButton(e,t,r){const a=document.createElement("li"),n=document.createElement("button");return a.classList.add("pages-navigation__page-wrapper"),n.classList.add("pages-navigation__page-button"),n.textContent=e,e===c&&a.classList.add("pages-navigation__page-wrapper_active"),n.addEventListener("click",()=>{c=e,displayPage(e,t,r),document.querySelector(".pages-navigation__page-wrapper.pages-navigation__page-wrapper_active").classList.remove("pages-navigation__page-wrapper_active"),a.classList.add("pages-navigation__page-wrapper_active")}),a.appendChild(n),a}displayPage(1,t,e),createPagination(paginationSection,t,e)}const tabs=document.querySelectorAll(".product-tabs__item");tabs&&tabs.forEach(e=>{e.addEventListener("click",t=>{const c=document.querySelector(".product-tabs__item--active"),r=document.querySelector("#"+c.dataset.tab),a=document.querySelector("#"+e.dataset.tab);c.classList.remove("product-tabs__item--active"),r.classList.remove("product-tabs__block--active"),e.classList.add("product-tabs__item--active"),a.classList.add("product-tabs__block--active")})});const stars=document.querySelectorAll(".product-rating__star");if(stars){stars.forEach(e=>e.addEventListener("click",()=>{const{value:t}=e.dataset;e.parentNode.dataset.totalValue=t,document.querySelector(".product-rating__note").remove()})),document.querySelectorAll(".year-rate__value").forEach(e=>{const t=e.querySelector(".percent-circle__circle"),c=t.r.baseVal.value,r=2*Math.PI*c;t.style.strokeDasharray=`${r} ${r}`,t.style.strokeDashoffset=r;const a=r-parseInt(e.textContent)/100*r;t.style.strokeDashoffset=a})}const slider=document.querySelector(".product-slider");if(slider){const e=slider.querySelector(".product-slider__track"),t=slider.querySelector(".product-slider__button_next"),c=slider.querySelector(".product-slider__button_prev"),r=slider.querySelectorAll(".product-slider__item-wrapper"),a=r.length,n=[].map.call(r,e=>e.clientWidth),s=calcVisibleItems(n);let o=s,l=0;function calcVisibleItems(e){let t=0;for(let c=0;c<e.length;c++){if(t>=475)return c-1;t+=e[c]}return e.length}function calcOffset(e,t,c){return[].slice.call(e,t,c).reduce((e,t)=>e+t,0)}function calcPrevItems(e,t){let c=0;for(let r=0;r<e.length;r++)if(c+=e[r],t-c<=0)return r+1}t.addEventListener("click",r=>{c.style.opacity="100%",a-o>=3?l+=calcOffset(n,o,o+=3):(l+=calcOffset(n,o,o=a),t.style.opacity="0"),e.style.transform=`translateX(-${l}px)`}),c.addEventListener("click",r=>{t.style.opacity="100%";let a=calcPrevItems(n,l);a>=3?l-=calcOffset(n,o-=3,o+3):(l-=calcOffset(n,0,a),o=s,c.style.opacity="0"),e.style.transform=`translateX(-${l}px)`}),e.addEventListener("click",e=>{if("IMG"==e.target.tagName){document.querySelector(".product__image-wrapper").innerHTML=`\n\t\t\t<img src="${e.target.getAttribute("src")}" class="product__image"></img>\n\t\t\t`}})}const voteRatings=document.querySelectorAll(".comment-vote__rating");voteRatings&&voteRatings.forEach(e=>{e.textContent>=10?e.closest(".product-comment").classList.add("product-comment--good"):e.textContent<=-5&&e.closest(".product-comment").classList.add("product-comment--bad")});const pricesAtShops=document.querySelectorAll(".product-price__price");pricesAtShops&&pricesAtShops.forEach(e=>{e.textContent.trim().localeCompare("нет в наличии")||(e.style.border="none")});const pcParts=document.querySelectorAll(".pc-part__title");if(pcParts){const e=pcParts[0].getBoundingClientRect(),t=pcParts[1].getBoundingClientRect();document.createElement("svg").innerHTML=`<line id="line1" x1=${e.left} y1=${e.top} x2=${t.left} y2=${t.top} stroke=red/>`}