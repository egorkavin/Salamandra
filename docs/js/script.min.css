const sidebarOpenButtons=document.querySelectorAll(".sidebar__btn");if(sidebarOpenButtons){sidebarOpenButtons.forEach(e=>{e.addEventListener("click",t=>{const a=e.classList,i=".sidebar_"+a.item(a.length-1).split("_").pop();document.querySelector(i).classList.toggle(i.substr(1)+"_hidden")})}),document.querySelectorAll(".filter").forEach(e=>{const t=e.querySelector(".filter__name");if(t){const a=e.querySelector(".filter__items-list"),i=t.querySelector(".filter__items-count");i.innerHTML="("+a.childElementCount+")",toggleItemsListByFilterName(a,t),setItemsCountInList(i,a)}}),document.querySelectorAll(".filter__item-quantity").forEach(e=>{if("(+0)"===e.textContent){const t=e.closest(".filter__item");t.classList.add("filter__item_disabled"),t.addEventListener("click",e=>e.preventDefault())}})}function toggleItemsListByFilterName(e,t){t.addEventListener("click",a=>{a.preventDefault(),t.classList.toggle("filter__name_active");const i=e.clientHeight,r=e.parentNode;r.style.maxHeight?r.removeAttribute("style"):r.style.maxHeight=i+"px"})}function setItemsCountInList(e,t){t.addEventListener("change",a=>{let i=t.querySelectorAll('input[type="checkbox"]:checked').length;e.innerHTML=0===i?`(${t.childElementCount})`:`(${i}/${t.childElementCount})`})}const itemsFromAllPages=document.querySelectorAll(".product");let itemsPerPage=4,currentPage=1;const paginationSection=document.querySelector(".pages-navigation");function displayPage(e,t,a){const i=(e-1)*t,r=Array.prototype.slice.call(a);r.splice(i,t).forEach(e=>e.removeAttribute("style")),r.forEach(e=>e.style.display="none")}function createPagination(e,t,a){const i=Math.ceil(itemsFromAllPages.length/t),r=e.querySelector(".pages-navigation__list-of-pages");for(let e=0;e<i;e++){const i=createPageButton(e+1,t,a);r.appendChild(i)}}function createPageButton(e,t,a){const i=document.createElement("li"),r=document.createElement("button");return i.classList.add("pages-navigation__page-wrapper"),r.classList.add("pages-navigation__page-button"),r.textContent=e,e===currentPage&&i.classList.add("pages-navigation__page-wrapper_active"),r.addEventListener("click",()=>{currentPage=e,displayPage(e,t,a),document.querySelector(".pages-navigation__page-wrapper.pages-navigation__page-wrapper_active").classList.remove("pages-navigation__page-wrapper_active"),i.classList.add("pages-navigation__page-wrapper_active")}),i.appendChild(r),i}paginationSection&&(displayPage(1,itemsPerPage,itemsFromAllPages),createPagination(paginationSection,itemsPerPage,itemsFromAllPages));const tabs=document.querySelectorAll(".product-tabs__item");tabs&&tabs.forEach(e=>{e.addEventListener("click",t=>{const a=document.querySelector(".product-tabs__item_active"),i=document.querySelector("#"+a.dataset.tab),r=document.querySelector("#"+e.dataset.tab);a.classList.remove("product-tabs__item_active"),i.classList.remove("product-tabs__block_active"),e.classList.add("product-tabs__item_active"),r.classList.add("product-tabs__block_active")})});const slider=document.querySelector(".product-slider");if(slider){const e=slider.querySelector(".product-slider__track"),t=slider.querySelector(".product-slider__button_next"),a=slider.querySelector(".product-slider__button_prev"),i=slider.querySelectorAll(".product-slider__item-wrapper"),r=i.length,n=[].map.call(i,e=>e.clientWidth),c=calcVisibleItems(n);let s=c,l=0;t.addEventListener("click",i=>{a.style.display="inline",r-s>=3?l+=calcOffset(n,s,s+=3):(l+=calcOffset(n,s,s=r),t.style.display="none"),e.style.transform=`translateX(-${l}px)`}),a.addEventListener("click",i=>{t.style.display="inline";let r=calcPrevItems(n,l);r>=3?l-=calcOffset(n,s-=3,s+3):(l-=calcOffset(n,0,r),s=c,a.style.display="none"),e.style.transform=`translateX(-${l}px)`}),e.addEventListener("click",e=>{if("IMG"==e.target.tagName){document.querySelector(".product__image-wrapper").innerHTML=`\n\t\t\t<img src="${e.target.getAttribute("src")}" class="product__image"></img>\n\t\t\t`}})}function calcVisibleItems(e){let t=0;for(let a=0;a<e.length;a++){if(t>=475)return a-1;t+=e[a]}return e.length}function calcOffset(e,t,a){return[].slice.call(e,t,a).reduce((e,t)=>e+t,0)}function calcPrevItems(e,t){let a=0;for(let i=0;i<e.length;i++)if(a+=e[i],t-a<=0)return i+1}